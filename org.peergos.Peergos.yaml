app-id: org.peergos.Peergos
runtime: org.freedesktop.Platform
runtime-version: "25.08"
sdk: org.freedesktop.Sdk
command: peergos

sdk-extensions:
  - org.freedesktop.Sdk.Extension.openjdk21

finish-args:
  - --share=network

  - --socket=x11
  - --socket=wayland

  - --filesystem=home

modules:
  - name: peergos
    buildsystem: simple
    build-commands:
      - install -Dm644 Peergos.jar /app/share/peergos/Peergos.jar

      - install -Dm755 peergos.sh /app/bin/peergos

      - install -Dm644 org.peergos.Peergos.desktop /app/share/applications/org.peergos.Peergos.desktop

      - install -Dm644 peergos.png /app/share/icons/hicolor/256x256/apps/org.peergos.Peergos.png

    sources:
      - type: file
        url: https://github.com/Peergos/web-ui/releases/download/v1.18.0/Peergos.jar
        sha256: 2538091c2de75adf168a560ebc9c164278c44d067788af928fe89b12062f5363

      - type: file
        path: peergos.sh

      - type: file
        path: org.peergos.Peergos.desktop

      - type: file
        path: peergos.png

